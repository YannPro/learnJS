<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<script>
let checkLogin = function () {
	return new Promise((resolve,reject)=>{
		let flag = document.cookie.indexOf("userId")>-1?true:false;

		if(flag=true){
			resolve({
				status: 0,
				result:true
			})
		}else{
			reject("error")
		}
	})
}
let getUserInfo = ()=>{
	return new Promise((resolve,reject)=>{
		let userInfo = {
			userId: '101'
		}
		resolve(userInfo)
	})
}
checkLogin().then(res1=>{
	if(res1.status===0){
		console.log('login success')
		return getUserInfo();
	}
}).catch(error=>{
	console.log(error)
}).then(res2=>{
	console.log(res2.userId)
})
//promise.all
/*Promise.all([checkLogin(),getUserInfo()]).then(([res1,res2])=>{
	console.log(res1,res2)
})*/
</script>
</body>
</html>